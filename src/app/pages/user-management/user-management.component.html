<!--
============================================
; Title: WEB	450	Bobâ€™s	Computer	Repair	Shop
; Author: Ethan Townsend, Lea Trueworthy, Natasha Whitmer, and Jason Sullenger
; Date: 17 October 2019
; Description: End-to-end billing system for Bob's Computer - MEAN stack
;===========================================
-->

<!-- Added error message -->
<small *ngIf="errorMessage">{{ errorMessage }} </small>
<div class="UserListing">
    <div class="userTitle">
        <h2>User Summary</h2>
    </div>
    <table class="tableUser">
        <thead>
            <tr>
                <th scope="col">Username</th>
                <th scope="col">First Name</th>
                <th scope="col">Last Name</th>
                <th scope="col">Phone Number</th>
                <th scope="col">Email</th>
                <th scope="col">Address</th>
                <th scope="col">Update</th>
                <th scope="col">Delete</th>
            </tr>
        </thead>
        <tbody *ngFor="let user of users">
            <tr>
                <td *ngIf='user._id === editUserId'><input type='text' [(ngModel)]='user.username'></td>
                <td *ngIf='user._id !== editUserId' (click)='edit(user._id)' scope="row">{{ user.username }}</td>

                <td scope="row" *ngIf='user._id !== editUserId'>{{ user.name_first }}</td>
                <td *ngIf='user._id === editUserId'><input type='text' [(ngModel)]='user.name_first'></td>

                <td scope="row" *ngIf='user._id !== editUserId'>{{ user.name_last }}</td>
                <td *ngIf='user._id === editUserId'><input type='text' [(ngModel)]='user.name_last'></td>

                <td scope="row" *ngIf='user._id !== editUserId'>{{ user.phone_number }}</td>
                <td *ngIf='user._id === editUserId'><input type='text' [(ngModel)]='user.phone_number'></td>

                <td scope="row" *ngIf='user._id !== editUserId'>{{ user.email }}</td>
                <td *ngIf='user._id === editUserId'><input type='text' [(ngModel)]='user.email'></td>

                <div *ngFor='let address of user.address'>
                    <td scope="row" *ngIf='user._id !== editUserId'>{{ address.street_address }}</td>
                    <td *ngIf='user._id === editUserId'><input type='text' [(ngModel)]='address.street_address'></td>

                    <td scope="row" *ngIf='user._id !== editUserId'>{{ address.city }}</td>
                    <td *ngIf='user._id === editUserId'><input type='text' [(ngModel)]='address.city'></td>

                    <td scope="row" *ngIf='user._id !== editUserId'>{{ address.state }}</td>
                    <td *ngIf='user._id === editUserId'><input type='text' [(ngModel)]='address.state'></td>

                    <td scope="row" *ngIf='user._id !== editUserId'>{{ address.zip }}</td>
                    <td *ngIf='user._id === editUserId'><input type='text' [(ngModel)]='address.zip'></td>
                </div>

                <!-- <button (click)='loadData()'>Update</button> -->
            </tr>
        </tbody>
    </table>
<<<<<<< HEAD

<br/>


    <div>
        {{ users | json }}
    </div>

    <!-- <div fxLayoutAlign="center">
            <mat-card class="login-container"  >
                <mat-card-title>Update User</mat-card-title>
                <mat-card-content>
                    <form [formGroup]='updateForm' #updateform = 'ngForm' (ngSubmit)='onSubmit(updateForm.value); updateForm.reset()'>

                        <mat-card-content>
                            <mat-form-field>
                                <input type="text" matInput formControlName='username'>
                            </mat-form-field>
                            <br/>
                            <mat-form-field>
                                <input type="text" matInput formControlName='firstName'>
                            </mat-form-field>
                            <br/>
                            <mat-form-field>
                                <input type="text" matInput formControlName='lastName'>
                            </mat-form-field>
                            <br/>
                            <mat-form-field>
                                <input type="text" matInput formControlName='email'>
                            </mat-form-field>
                            <br/>
                            <mat-form-field>
                                <input type="text" matInput formControlName='address'>
                            </mat-form-field>
                        </mat-card-content>

                        <mat-card-actions>
                            <button mat-raised-button color="primary" type="submit">Submit Updated User</button>
                        </mat-card-actions>
                    </form>
                </mat-card-content>
            </mat-card>
        </div> -->
=======
</div>
>>>>>>> 0426d053275d1b0fef10d89f4f543fc039f286b9
